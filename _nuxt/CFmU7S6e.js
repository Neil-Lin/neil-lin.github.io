import{_ as Z,u as K}from"./DIvb6zQq.js";import{s as A,c as M,t as C,u as tt,a as et,g as at,o as st,b as nt,i as ot,w as it,d as rt,r as L,e as V,f as ct,n as lt,h as ut,j as p,k as dt,l as H,m as ft,p as _t,q as N,v as I,x as v,y as P,F as W,z as G,A as w,B as j,C as U,D,E as z,_ as J,G as ht,H as mt,I as yt,J as gt,K as pt,L as vt}from"./DxYzGMXf.js";import{_ as q}from"./D-3zK4X5.js";const Dt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],bt=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],wt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",T=[];class Bt{_data=new k;_hash=new k([...Dt]);_nDataBytes=0;_minBufferSize=0;finalize(t){t&&this._append(t);const a=this._nDataBytes*8,e=this._data.sigBytes*8;return this._data.words[e>>>5]|=128<<24-e%32,this._data.words[(e+64>>>9<<4)+14]=Math.floor(a/4294967296),this._data.words[(e+64>>>9<<4)+15]=a,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}_doProcessBlock(t,a){const e=this._hash.words;let n=e[0],i=e[1],o=e[2],d=e[3],l=e[4],r=e[5],c=e[6],f=e[7];for(let u=0;u<64;u++){if(u<16)T[u]=t[a+u]|0;else{const h=T[u-15],$=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,E=T[u-2],R=(E<<15|E>>>17)^(E<<13|E>>>19)^E>>>10;T[u]=$+T[u-7]+R+T[u-16]}const y=l&r^~l&c,m=n&i^n&o^i&o,B=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),g=(l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25),b=f+g+y+bt[u]+T[u],_=B+m;f=c,c=r,r=l,l=d+b|0,d=o,o=i,i=n,n=b+_|0}e[0]=e[0]+n|0,e[1]=e[1]+i|0,e[2]=e[2]+o|0,e[3]=e[3]+d|0,e[4]=e[4]+l|0,e[5]=e[5]+r|0,e[6]=e[6]+c|0,e[7]=e[7]+f|0}_append(t){typeof t=="string"&&(t=k.fromUtf8(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes}_process(t){let a,e=this._data.sigBytes/64;t?e=Math.ceil(e):e=Math.max((e|0)-this._minBufferSize,0);const n=e*16,i=Math.min(n*4,this._data.sigBytes);if(n){for(let o=0;o<n;o+=16)this._doProcessBlock(this._data.words,o);a=this._data.words.splice(0,n),this._data.sigBytes-=i}return new k(a,i)}}class k{words;sigBytes;constructor(t,a){t=this.words=t||[],this.sigBytes=a===void 0?t.length*4:a}static fromUtf8(t){const a=unescape(encodeURIComponent(t)),e=a.length,n=[];for(let i=0;i<e;i++)n[i>>>2]|=(a.charCodeAt(i)&255)<<24-i%4*8;return new k(n,e)}toBase64(){const t=[];for(let a=0;a<this.sigBytes;a+=3){const e=this.words[a>>>2]>>>24-a%4*8&255,n=this.words[a+1>>>2]>>>24-(a+1)%4*8&255,i=this.words[a+2>>>2]>>>24-(a+2)%4*8&255,o=e<<16|n<<8|i;for(let d=0;d<4&&a*8+d*6<this.sigBytes*8;d++)t.push(wt.charAt(o>>>6*(3-d)&63))}return t.join("")}concat(t){if(this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4),this.sigBytes%4)for(let a=0;a<t.sigBytes;a++){const e=t.words[a>>>2]>>>24-a%4*8&255;this.words[this.sigBytes+a>>>2]|=e<<24-(this.sigBytes+a)%4*8}else for(let a=0;a<t.sigBytes;a+=4)this.words[this.sigBytes+a>>>2]=t.words[a>>>2];this.sigBytes+=t.sigBytes}}function $t(s){return new Bt().finalize(s).toBase64()}function S(s){return $t(A(s))}const Ct={trailing:!0};function Pt(s,t=25,a={}){if(a={...Ct,...a},!Number.isFinite(t))throw new TypeError("Expected `wait` to be a finite number");let e,n,i=[],o,d;const l=(r,c)=>(o=Et(s,r,c),o.finally(()=>{if(o=null,a.trailing&&d&&!n){const f=l(r,d);return d=null,f}}),o);return function(...r){return o?(a.trailing&&(d=r),o):new Promise(c=>{const f=!n&&a.leading;clearTimeout(n),n=setTimeout(()=>{n=null;const u=a.leading?e:l(this,r);for(const y of i)y(u);i=[]},t),f?(e=l(this,r),c(e)):i.push(c)})}}async function Et(s,t,a){return await s.apply(t,a)}const Ot=Symbol.for("nuxt:client-only");function jt(...s){const t=typeof s[s.length-1]=="string"?s.pop():void 0;Mt(s[0],s[1])&&s.unshift(t);let[a,e,n={}]=s;const i=M(()=>C(a));if(typeof i.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof e!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const o=tt();n.server??=!0,n.default??=Tt,n.getCachedData??=Y,n.lazy??=!1,n.immediate??=!0,n.deep??=et.deep,n.dedupe??="cancel",n._functionName,o._asyncData[i.value];const d={cause:"initial",dedupe:n.dedupe};o._asyncData[i.value]?._init||(d.cachedData=n.getCachedData(i.value,o,{cause:"initial"}),o._asyncData[i.value]=x(o,i.value,e,n,d.cachedData));const l=o._asyncData[i.value];l._deps++;const r=()=>o._asyncData[i.value].execute(d),c=n.server!==!1&&o.payload.serverRendered;{let y=function(_){const h=o._asyncData[_];h?._deps&&(h._deps--,h._deps===0&&h?._off())};const m=at();if(m&&c&&n.immediate&&!m.sp&&(m.sp=[]),m&&!m._nuxtOnBeforeMountCbs){m._nuxtOnBeforeMountCbs=[];const _=m._nuxtOnBeforeMountCbs;st(()=>{_.forEach(h=>{h()}),_.splice(0,_.length)}),nt(()=>_.splice(0,_.length))}const B=m&&(m._nuxtClientOnly||ot(Ot,!1));c&&o.isHydrating&&(l.error.value||l.data.value!==void 0)?l.status.value=l.error.value?"error":"success":m&&(!B&&o.payload.serverRendered&&o.isHydrating||n.lazy)&&n.immediate?m._nuxtOnBeforeMountCbs.push(r):n.immediate&&l.status.value!=="success"&&r();const g=dt(),b=it([i,...n.watch||[]],([_],[h])=>{if((_||h)&&_!==h){const $=o._asyncData[h]?.data.value!==void 0,E=o._asyncDataPromises[h]!==void 0;h&&y(h);const R={cause:"initial",dedupe:n.dedupe};if(!o._asyncData[_]?._init){let O;h&&$?O=o._asyncData[h]?.data.value:(O=n.getCachedData(_,o,{cause:"initial"}),R.cachedData=O),o._asyncData[_]=x(o,_,e,n,O)}o._asyncData[_]._deps++,(n.immediate||$||E)&&o._asyncData[_].execute(R)}else l._execute({cause:"watch",dedupe:n.dedupe})},{flush:"sync"});g&&rt(()=>{b(),y(i.value)})}const f={data:F(()=>o._asyncData[i.value]?.data),pending:F(()=>o._asyncData[i.value]?.pending),status:F(()=>o._asyncData[i.value]?.status),error:F(()=>o._asyncData[i.value]?.error),refresh:(...y)=>o._asyncData[i.value].execute(...y),execute:(...y)=>o._asyncData[i.value].execute(...y),clear:()=>X(o,i.value)},u=Promise.resolve(o._asyncDataPromises[i.value]).then(()=>f);return Object.assign(u,f),u}function F(s){return M({get(){return s()?.value},set(t){const a=s();a&&(a.value=t)}})}function Mt(s,t){return!(typeof s=="string"||typeof s=="object"&&s!==null||typeof s=="function"&&typeof t=="function")}function X(s,t){t in s.payload.data&&(s.payload.data[t]=void 0),t in s.payload._errors&&(s.payload._errors[t]=void 0),s._asyncData[t]&&(s._asyncData[t].data.value=p(s._asyncData[t]._default()),s._asyncData[t].error.value=void 0,s._asyncData[t].status.value="idle"),t in s._asyncDataPromises&&(s._asyncDataPromises[t]&&(s._asyncDataPromises[t].cancelled=!0),s._asyncDataPromises[t]=void 0)}function Rt(s,t){const a={};for(const e of t)a[e]=s[e];return a}function x(s,t,a,e,n){s.payload._errors[t]??=void 0;const i=e.getCachedData!==Y,o=a,d=e.deep?L:V,l=n!==void 0,r=s.hook("app:data:refresh",async f=>{(!f||f.includes(t))&&await c.execute({cause:"refresh:hook"})}),c={data:d(l?n:e.default()),pending:M(()=>c.status.value==="pending"),error:ct(s.payload._errors,t),status:V("idle"),execute:(...f)=>{const[u,y=void 0]=f,m=u&&y===void 0&&typeof u=="object"?u:{};if(s._asyncDataPromises[t]){if((m.dedupe??e.dedupe)==="defer")return s._asyncDataPromises[t];s._asyncDataPromises[t].cancelled=!0}{const g="cachedData"in m?m.cachedData:e.getCachedData(t,s,{cause:m.cause??"refresh:manual"});if(g!==void 0)return s.payload.data[t]=c.data.value=g,c.error.value=void 0,c.status.value="success",Promise.resolve(g)}c.status.value="pending";const B=new Promise((g,b)=>{try{g(o(s))}catch(_){b(_)}}).then(async g=>{if(B.cancelled)return s._asyncDataPromises[t];let b=g;e.transform&&(b=await e.transform(g)),e.pick&&(b=Rt(b,e.pick)),s.payload.data[t]=b,c.data.value=b,c.error.value=void 0,c.status.value="success"}).catch(g=>{if(B.cancelled)return s._asyncDataPromises[t];c.error.value=ut(g),c.data.value=p(e.default()),c.status.value="error"}).finally(()=>{B.cancelled||delete s._asyncDataPromises[t]});return s._asyncDataPromises[t]=B,s._asyncDataPromises[t]},_execute:Pt((...f)=>c.execute(...f),0,{leading:!0}),_default:e.default,_deps:0,_init:!0,_hash:void 0,_off:()=>{r(),s._asyncData[t]?._init&&(s._asyncData[t]._init=!1),i||lt(()=>{s._asyncData[t]?._init||(X(s,t),c.execute=()=>Promise.resolve())})}};return c}const Tt=()=>{},Y=(s,t,a)=>{if(t.isHydrating)return t.payload.data[s];if(a.cause!=="refresh:manual"&&a.cause!=="refresh:hook")return t.static.data[s]};function Q(s,t,a){const[e={},n]=typeof t=="string"?[{},t]:[t,a],i=M(()=>C(s)),o=M(()=>C(e.key)||"$f"+S([n,typeof i.value=="string"?i.value:"",...St(e)]));if(!e.baseURL&&typeof i.value=="string"&&i.value[0]==="/"&&i.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:d,lazy:l,default:r,transform:c,pick:f,watch:u,immediate:y,getCachedData:m,deep:B,dedupe:g,...b}=e,_=H({...ft,...b,cache:typeof e.cache=="boolean"?void 0:e.cache}),h={server:d,lazy:l,default:r,transform:c,pick:f,immediate:y,getCachedData:m,deep:B,dedupe:g,watch:u===!1?[]:[...u||[],_]};let $;return jt(u===!1?o.value:o,()=>{$?.abort?.(new DOMException("Request aborted as another request to the same endpoint was initiated.","AbortError")),$=typeof AbortController<"u"?new AbortController:{};const R=C(e.timeout);let O;return R&&(O=setTimeout(()=>$.abort(new DOMException("Request aborted due to timeout.","AbortError")),R),$.signal.onabort=()=>clearTimeout(O)),(e.$fetch||globalThis.$fetch)(i.value,{signal:$.signal,..._}).finally(()=>{clearTimeout(O)})},h)}function St(s){const t=[C(s.method)?.toUpperCase()||"GET",C(s.baseURL)];for(const a of[s.params||s.query]){const e=C(a);if(!e)continue;const n={};for(const[i,o]of Object.entries(e))n[C(i)]=C(o);t.push(n)}if(s.body){const a=C(s.body);if(!a)t.push(S(a));else if(a instanceof ArrayBuffer)t.push(S(Object.fromEntries([...new Uint8Array(a).entries()].map(([e,n])=>[e,n.toString()]))));else if(a instanceof FormData){const e={};for(const n of a.entries()){const[i,o]=n;e[i]=o instanceof File?o.name:o}t.push(S(e))}else if(_t(a))t.push(S(H(a)));else try{t.push(S(a))}catch{console.warn("[useFetch] Failed to hash body",a)}}return t}const kt={key:0},Ft={key:1},Ut={key:2,class:"blog-list"},zt={class:"des"},Lt=N({__name:"mediumPosts",props:{username:{type:String,required:!0}},async setup(s){let t,a;const e=s,{data:n,pending:i,error:o}=([t,a]=I(()=>Q(`https://api.rss2json.com/v1/api.json?rss_url=https://medium.com/feed/@${e.username}`,"$l9VJqXAsgX")),t=await t,a(),t),d=r=>new DOMParser().parseFromString(r,"text/html").body.textContent||"",l=M(()=>n.value&&n.value.status==="ok"?n.value.items.filter(r=>r.categories.length>0).map(r=>({title:r.title,link:r.link,description:d(r.description)})):[]);return(r,c)=>{const f=q;return D(),v("div",null,[p(i)?(D(),v("div",kt,"Loading...")):p(o)?(D(),v("div",Ft,"Error: "+P(p(o).message),1)):(D(),v("ul",Ut,[(D(!0),v(W,null,G(p(l),u=>(D(),v("li",{key:u.link,class:"blog-item animation-fade-out"},[w("h3",null,[j(f,{to:u.link,title:`${r.$t("action.openWindow")} ${r.$t("action.goTo")} ${u.title}`,target:"_blank"},{default:U(()=>[z(P(u.title),1)]),_:2},1032,["to","title"])]),w("p",zt,P(u.description),1)]))),128))]))])}}}),Nt=Object.assign(J(Lt,[["__scopeId","data-v-9a58d94c"]]),{__name:"MediumPosts"}),qt={key:0},Vt={key:1},xt={key:2,class:"blog-list"},Ht={class:"des"},It=N({__name:"vocusPosts",async setup(s){let t,a;const{data:e,pending:n,error:i}=([t,a]=I(()=>Q("/zh-blog.json",{server:!1},"$wR0KlMrYYV")),t=await t,a(),t),o=M(()=>e.value??[]);return(d,l)=>{const r=q;return D(),v("div",null,[p(n)?(D(),v("div",qt,"Loading...")):p(i)?(D(),v("div",Vt,"Error: "+P(p(i).message),1)):(D(),v("ul",xt,[(D(!0),v(W,null,G(p(o),c=>(D(),v("li",{key:c.url,class:"blog-item animation-fade-out"},[w("h3",null,[j(r,{to:c.url,title:`${d.$t("action.openWindow")} ${d.$t("action.goTo")} ${c.title}`,target:"_blank"},{default:U(()=>[z(P(c.title),1)]),_:2},1032,["to","title"])]),w("p",Ht,P(c.abstract),1)]))),128))]))])}}}),Wt=Object.assign(J(It,[["__scopeId","data-v-1c47d601"]]),{__name:"VocusPosts"}),Gt={class:"page page--narrow"},Jt={class:"page-container"},Xt={key:0},Yt={key:1},te=N({__name:"blog",setup(s){const{t,locale:a}=ht(),e=gt(),n=L(t("mainMenu.blog")),i=L(t("des.blog")),o=mt();yt({title:n,meta:[{hid:"description",name:"description",content:i.value},{hid:"og:url",property:"og:url",content:e.public.baseUrl+o.path},{hid:"og:title",property:"og:title",content:n.value+" - "+t("website.name")},{hid:"og:description",property:"og:description",content:i.value},{hid:"twitter:url",name:"twitter:url",content:e.public.baseUrl+o.path},{hid:"twitter:title",name:"twitter:title",content:n.value+" - "+t("website.name")},{hid:"twitter:description",name:"twitter:description",content:i.value}]});const d=M(()=>[{link:"/",title:t("action.goToHomePage")},{link:"",title:t("mainMenu.blog")}]);return pt(()=>{d.value.length>0&&K(d.value)}),(l,r)=>{const c=Z,f=vt,u=Nt,y=q,m=Wt;return D(),v("main",Gt,[w("div",Jt,[j(c,{list:p(d)},null,8,["list"]),j(f),w("h2",null,P(p(n)),1),w("p",null,P(p(t)("page.blog.hint")),1),p(a)==="en"?(D(),v("div",Xt,[r[0]||(r[0]=w("br",null,null,-1)),j(u,{username:"neil-lin"}),r[1]||(r[1]=w("br",null,null,-1)),j(y,{to:"https://neil-lin.medium.com/",title:`${l.$t("action.openWindow")} ${l.$t("action.goTo")} Medium`,target:"_blank",class:"btn"},{default:U(()=>[z(P(p(t)("page.blog.forward")),1)]),_:1},8,["title"])])):(D(),v("div",Yt,[r[2]||(r[2]=w("br",null,null,-1)),j(m),r[3]||(r[3]=w("br",null,null,-1)),j(y,{to:"https://vocus.cc/user/@neil-lin",title:`${l.$t("action.openWindow")} ${l.$t("action.goTo")} 方格子`,target:"_blank",class:"btn"},{default:U(()=>[z(P(p(t)("page.blog.forward")),1)]),_:1},8,["title"])]))])])}}});export{te as default};

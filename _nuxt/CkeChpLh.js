import{_ as L}from"./Bz3JJNes.js";import{u as U,a as C,r as O,s as z,t as N,g as I,o as K,b as G,w as W,c as q,d as X,e as J,f as m,h as M,i as b,j as Q,k as Y,l as Z,m as F,n as A,p as y,q as P,F as ee,v as te,x as D,y as E,z as S,A as v,B as V,_ as ae,C as ne,D as se,E as oe,G as re,H as ie}from"./inl672vt.js";import{_ as H}from"./CqzXC8Op.js";const ce=a=>a==="defer"||a===!1;function le(...a){var T;const n=typeof a[a.length-1]=="string"?a.pop():void 0;typeof a[0]!="string"&&a.unshift(n);let[s,r,e={}]=a;if(typeof s!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof r!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");const t=U(),u=r,f=()=>C.value,l=()=>t.isHydrating?t.payload.data[s]:t.static.data[s];e.server=e.server??!0,e.default=e.default??f,e.getCachedData=e.getCachedData??l,e.lazy=e.lazy??!1,e.immediate=e.immediate??!0,e.deep=e.deep??C.deep,e.dedupe=e.dedupe??"cancel";const p=e.getCachedData(s,t),g=p!=null;if(!t._asyncData[s]||!e.immediate){(T=t.payload._errors)[s]??(T[s]=C.errorValue);const c=e.deep?O:z;t._asyncData[s]={data:c(g?p:e.default()),pending:O(!g),error:N(t.payload._errors,s),status:O("idle"),_default:e.default}}const o={...t._asyncData[s]};delete o._default,o.refresh=o.execute=(c={})=>{if(t._asyncDataPromises[s]){if(ce(c.dedupe??e.dedupe))return t._asyncDataPromises[s];t._asyncDataPromises[s].cancelled=!0}if(c._initial||t.isHydrating&&c._initial!==!1){const d=c._initial?p:e.getCachedData(s,t);if(d!=null)return Promise.resolve(d)}o.pending.value=!0,o.status.value="pending";const _=new Promise((d,i)=>{try{d(u(t))}catch(k){i(k)}}).then(async d=>{if(_.cancelled)return t._asyncDataPromises[s];let i=d;e.transform&&(i=await e.transform(d)),e.pick&&(i=de(i,e.pick)),t.payload.data[s]=i,o.data.value=i,o.error.value=C.errorValue,o.status.value="success"}).catch(d=>{if(_.cancelled)return t._asyncDataPromises[s];o.error.value=J(d),o.data.value=m(e.default()),o.status.value="error"}).finally(()=>{_.cancelled||(o.pending.value=!1,delete t._asyncDataPromises[s])});return t._asyncDataPromises[s]=_,t._asyncDataPromises[s]},o.clear=()=>ue(t,s);const w=()=>o.refresh({_initial:!0}),$=e.server!==!1&&t.payload.serverRendered;{const c=I();if(c&&$&&e.immediate&&!c.sp&&(c.sp=[]),c&&!c._nuxtOnBeforeMountCbs){c._nuxtOnBeforeMountCbs=[];const i=c._nuxtOnBeforeMountCbs;K(()=>{i.forEach(k=>{k()}),i.splice(0,i.length)}),G(()=>i.splice(0,i.length))}$&&t.isHydrating&&(o.error.value||p!=null)?(o.pending.value=!1,o.status.value=o.error.value?"error":"success"):c&&(t.payload.serverRendered&&t.isHydrating||e.lazy)&&e.immediate?c._nuxtOnBeforeMountCbs.push(w):e.immediate&&w();const _=X();if(e.watch){const i=W(e.watch,()=>o.refresh());_&&q(i)}const d=t.hook("app:data:refresh",async i=>{(!i||i.includes(s))&&await o.refresh()});_&&q(d)}const x=Promise.resolve(t._asyncDataPromises[s]).then(()=>o);return Object.assign(x,o),x}function ue(a,n){n in a.payload.data&&(a.payload.data[n]=void 0),n in a.payload._errors&&(a.payload._errors[n]=C.errorValue),a._asyncData[n]&&(a._asyncData[n].data.value=m(a._asyncData[n]._default()),a._asyncData[n].error.value=C.errorValue,a._asyncData[n].pending.value=!1,a._asyncData[n].status.value="idle"),n in a._asyncDataPromises&&(a._asyncDataPromises[n]&&(a._asyncDataPromises[n].cancelled=!0),a._asyncDataPromises[n]=void 0)}function de(a,n){const s={};for(const r of n)s[r]=a[r];return s}function fe(a,n,s){const[r={},e]=[{},n],t=M(()=>b(a)),u=r.key||Q([e,typeof t.value=="string"?t.value:"",...me(r)]);if(!u||typeof u!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+u);if(!a)throw new Error("[nuxt] [useFetch] request is missing.");const f=u===e?"$f"+u:u;if(!r.baseURL&&typeof t.value=="string"&&t.value[0]==="/"&&t.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:l,lazy:p,default:g,transform:o,pick:w,watch:$,immediate:x,getCachedData:T,deep:c,dedupe:_,...d}=r,i=Y({...Z,...d,cache:typeof r.cache=="boolean"?void 0:r.cache}),k={server:l,lazy:p,default:g,transform:o,pick:w,immediate:x,getCachedData:T,deep:c,dedupe:_,watch:$===!1?[]:[i,t,...$||[]]};let h;return le(f,()=>{var j;(j=h==null?void 0:h.abort)==null||j.call(h,new DOMException("Request aborted as another request to the same endpoint was initiated.","AbortError")),h=typeof AbortController<"u"?new AbortController:{};const R=b(r.timeout);let B;return R&&(B=setTimeout(()=>h.abort(new DOMException("Request aborted due to timeout.","AbortError")),R),h.signal.onabort=()=>clearTimeout(B)),(r.$fetch||globalThis.$fetch)(t.value,{signal:h.signal,...i}).finally(()=>{clearTimeout(B)})},k)}function me(a){var s;const n=[((s=b(a.method))==null?void 0:s.toUpperCase())||"GET",b(a.baseURL)];for(const r of[a.params||a.query]){const e=b(r);if(!e)continue;const t={};for(const[u,f]of Object.entries(e))t[b(u)]=b(f);n.push(t)}return n}const pe={key:0},_e={key:1},he={key:2,class:"blog-list"},ge=F({__name:"mediumPosts",props:{username:{type:String,required:!0}},async setup(a){let n,s;const r=a,{data:e,pending:t,error:u}=([n,s]=A(()=>fe(`https://api.rss2json.com/v1/api.json?rss_url=https://medium.com/feed/@${r.username}`,"$SxX09gCjwP")),n=await n,s(),n),f=M(()=>e.value&&e.value.status==="ok"?e.value.items.filter(l=>l.categories.length>0).map(l=>({title:l.title,link:l.link,description:l.description.replace(/<[^>]+>/g,"").substring(0,80)+"..."})):[]);return(l,p)=>{const g=H;return v(),y("div",null,[m(t)?(v(),y("div",pe,"Loading...")):m(u)?(v(),y("div",_e,"Error: "+P(m(u).message),1)):(v(),y("ul",he,[(v(!0),y(ee,null,te(m(f),o=>(v(),y("li",{key:o.link,class:"blog-item animation-fade-out"},[D("h3",null,[E(g,{to:o.link,title:`${l.$t("action.openWindow")} ${l.$t("action.goTo")} ${o.title}`,target:"_blank"},{default:S(()=>[V(P(o.title),1)]),_:2},1032,["to","title"])]),D("p",null,P(o.description),1)]))),128))]))])}}}),ye=Object.assign(ae(ge,[["__scopeId","data-v-5a63988d"]]),{__name:"MediumPosts"}),ve={class:"page page--narrow"},be={class:"page-container"},ke=F({__name:"blog",setup(a){const{t:n}=ne(),s=re(),r=O(n("mainMenu.blog")),e=O(n("des.blog")),t=se();oe({title:r,meta:[{hid:"description",name:"description",content:e.value},{hid:"og:url",property:"og:url",content:s.public.baseUrl+t.path},{hid:"og:title",property:"og:title",content:r.value+" - "+n("website.name")},{hid:"og:description",property:"og:description",content:e.value},{hid:"twitter:url",name:"twitter:url",content:s.public.baseUrl+t.path},{hid:"twitter:title",name:"twitter:title",content:r.value+" - "+n("website.name")},{hid:"twitter:description",name:"twitter:description",content:e.value}]});const u=M(()=>[{link:"/",title:n("action.goToHomePage")},{link:"",title:n("mainMenu.blog")}]);return(f,l)=>{const p=L,g=ie,o=ye,w=H;return v(),y("main",ve,[D("div",be,[E(p,{list:m(u)},null,8,["list"]),E(g),D("h2",null,P(m(r)),1),D("p",null,P(m(n)("page.blog.hint")),1),l[0]||(l[0]=D("br",null,null,-1)),E(o,{username:"@neil-lin"}),l[1]||(l[1]=D("br",null,null,-1)),E(w,{to:"https://neil-lin.medium.com/",title:`${f.$t("action.openWindow")} ${f.$t("action.goTo")} Medium`,target:"_blank",class:"btn"},{default:S(()=>[V(P(m(n)("page.blog.forward")),1)]),_:1},8,["title"])])])}}});export{ke as default};
